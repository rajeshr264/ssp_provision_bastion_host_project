[0m[1mmodule.ssp_provision_bastion_host.data.local_file.bastion_host_public_key_filename: Reading...[0m[0m
[0m[1mmodule.ssp_provision_bastion_host.data.local_file.bastion_host_public_key_filename: Read complete after 0s [id=27296dad5e48ec9b85c631c67b36fa7d8d4d5347][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m

Terraform will perform the following actions:

[1m  # local_file.bolt_bastion_inventory[0m will be created
[0m  [32m+[0m[0m resource "local_file" "bolt_bastion_inventory" {
      [32m+[0m[0m content              = (sensitive value)
      [32m+[0m[0m content_base64sha256 = (known after apply)
      [32m+[0m[0m content_base64sha512 = (known after apply)
      [32m+[0m[0m content_md5          = (known after apply)
      [32m+[0m[0m content_sha1         = (known after apply)
      [32m+[0m[0m content_sha256       = (known after apply)
      [32m+[0m[0m content_sha512       = (known after apply)
      [32m+[0m[0m directory_permission = "0777"
      [32m+[0m[0m file_permission      = "0777"
      [32m+[0m[0m filename             = "./bastion_inventory.yaml"
      [32m+[0m[0m id                   = (known after apply)
    }

[1m  # module.ssp_provision_bastion_host.null_resource.setup_bastion_host[0m will be created
[0m  [32m+[0m[0m resource "null_resource" "setup_bastion_host" {
      [32m+[0m[0m id = (known after apply)
    }

[1m  # module.ssp_provision_bastion_host.proxmox_virtual_environment_vm.vm[0m will be created
[0m  [32m+[0m[0m resource "proxmox_virtual_environment_vm" "vm" {
      [32m+[0m[0m acpi                    = true
      [32m+[0m[0m bios                    = "seabios"
      [32m+[0m[0m id                      = (known after apply)
      [32m+[0m[0m ipv4_addresses          = (known after apply)
      [32m+[0m[0m ipv6_addresses          = (known after apply)
      [32m+[0m[0m keyboard_layout         = "en-us"
      [32m+[0m[0m mac_addresses           = (known after apply)
      [32m+[0m[0m migrate                 = false
      [32m+[0m[0m name                    = (known after apply)
      [32m+[0m[0m network_interface_names = (known after apply)
      [32m+[0m[0m node_name               = "pve"
      [32m+[0m[0m on_boot                 = true
      [32m+[0m[0m protection              = false
      [32m+[0m[0m reboot                  = false
      [32m+[0m[0m scsi_hardware           = "virtio-scsi-pci"
      [32m+[0m[0m started                 = true
      [32m+[0m[0m stop_on_destroy         = false
      [32m+[0m[0m tablet_device           = true
      [32m+[0m[0m template                = false
      [32m+[0m[0m timeout_clone           = 1800
      [32m+[0m[0m timeout_create          = 1800
      [32m+[0m[0m timeout_migrate         = 1800
      [32m+[0m[0m timeout_move_disk       = 1800
      [32m+[0m[0m timeout_reboot          = 1800
      [32m+[0m[0m timeout_shutdown_vm     = 1800
      [32m+[0m[0m timeout_start_vm        = 1800
      [32m+[0m[0m timeout_stop_vm         = 300
      [32m+[0m[0m vm_id                   = (known after apply)

      [32m+[0m[0m clone {
          [32m+[0m[0m full    = false
          [32m+[0m[0m retries = 1
          [32m+[0m[0m vm_id   = 9002
        }

      [32m+[0m[0m initialization {
          [32m+[0m[0m datastore_id = "local-lvm"
          [32m+[0m[0m upgrade      = (known after apply)

          [32m+[0m[0m ip_config {
              [32m+[0m[0m ipv4 {
                  [32m+[0m[0m address = "dhcp"
                }
            }

          [32m+[0m[0m user_account {
              [32m+[0m[0m keys     = [
                  [32m+[0m[0m "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDvzgxL29TlJTdN1retln6ntrvj0Je2p+qQ1aaP0PnnvG7yD+4fqMPTU3nuJLv44vYmZ2w2ro4uuy2Ba+Bd8cFhLEqFHbaHzo4W4FBd2iIy5qiVrxk/QzvNMVW+eqvE7PenMGkiRp4MrN17/Dw5YyNjai68Q4ZzUiYIgi7igLGfPT7nSbdIUc4K4CnUk2IWKGnhX1bn9L0pKzZaT7aG4Ns8tW+nc46iMItvy9M8HjnYHUWbFFGt6qr64UFn8+SlWRw6WSh1oGe/iLajrgLapJy9in53RTeFwNu+Uo59a/pu1uENDfkviHRbFp/otvg85hMjZtxlEqVxCuXRKvhpcX6UTNwfo2G3AtYLQb/x0HumWIzk8FvETkVSFl8+kEXh96DvCn8m27jRlX9vxrc9Uldo4vo0WH0F+pHeRoEpV2mGFhoyXGTYJLNnsF/ltALSyrA4T9J4rG8dJeDxm9Eer5FV2rvhBYpMHF4dM4W7DuLrcr4r/iUTGoD+wlMpooxH4S0= rajesh@LAPTOP-SQBMPM7K",
                ]
              [32m+[0m[0m password = (sensitive value)
              [32m+[0m[0m username = (sensitive value)
            }
        }

      [32m+[0m[0m network_device {
          [32m+[0m[0m bridge      = "vmbr0"
          [32m+[0m[0m enabled     = true
          [32m+[0m[0m firewall    = false
          [32m+[0m[0m mac_address = (known after apply)
          [32m+[0m[0m model       = "virtio"
          [32m+[0m[0m mtu         = 0
          [32m+[0m[0m queues      = 0
          [32m+[0m[0m rate_limit  = 0
          [32m+[0m[0m vlan_id     = 0
        }
    }

[1m  # module.ssp_provision_bastion_host.random_integer.rand[0m will be created
[0m  [32m+[0m[0m resource "random_integer" "rand" {
      [32m+[0m[0m id     = (known after apply)
      [32m+[0m[0m max    = 9000
      [32m+[0m[0m min    = 5000
      [32m+[0m[0m result = (known after apply)
    }

[1mPlan:[0m 4 to add, 0 to change, 0 to destroy.
[0m
Changes to Outputs:
  [32m+[0m[0m bastion_ipv4 = (known after apply)
[0m[1mmodule.ssp_provision_bastion_host.random_integer.rand: Creating...[0m[0m
[0m[1mmodule.ssp_provision_bastion_host.random_integer.rand: Creation complete after 0s [id=7466][0m
[0m[1mmodule.ssp_provision_bastion_host.proxmox_virtual_environment_vm.vm: Creating...[0m[0m
[0m[1mmodule.ssp_provision_bastion_host.proxmox_virtual_environment_vm.vm: Still creating... [10s elapsed][0m[0m
[0m[1mmodule.ssp_provision_bastion_host.proxmox_virtual_environment_vm.vm: Still creating... [20s elapsed][0m[0m
[0m[1mmodule.ssp_provision_bastion_host.proxmox_virtual_environment_vm.vm: Creation complete after 20s [id=100][0m
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host: Creating...[0m[0m
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host: Provisioning with 'remote-exec'...[0m[0m
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mConnecting to remote host via SSH...
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Host: 192.168.1.158
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  User: ubuntu
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Password: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Private key: true
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Certificate: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  SSH Agent: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Checking Host Key: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Target Platform: unix
[0m[1mlocal_file.bolt_bastion_inventory: Creating...[0m[0m
[0m[1mlocal_file.bolt_bastion_inventory: Creation complete after 0s [id=2be1de9a84f153e83110598ffbeee2bc407a8fe4][0m
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mConnecting to remote host via SSH...
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Host: 192.168.1.158
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  User: ubuntu
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Password: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Private key: true
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Certificate: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  SSH Agent: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Checking Host Key: false
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m  Target Platform: unix
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mConnected!
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mInstalling Terraform...
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 100%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... Done
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mBuilding dependency tree... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mBuilding dependency tree... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mBuilding dependency tree... 50%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mBuilding dependency tree... 50%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mBuilding dependency tree... Done
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading state information... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading state information... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading state information... Done
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mgpg is already the newest version (2.2.27-3ubuntu2.1).
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mgpg set to manually installed.
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0msoftware-properties-common is already the newest version (0.99.22.9).
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0msoftware-properties-common set to manually installed.
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0m0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mdeb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com jammy main
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 0%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 4%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 4%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 5%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 5%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 6%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 6%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 6%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 6%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 45%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 45%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 62%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 62%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 63%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 63%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 63%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 63%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 67%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 67%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 68%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 70%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 70%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 75%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 75%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 77%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 77%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 81%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 81%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 82%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 86%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 86%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 88%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 88%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 93%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 93%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 95%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 95%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 98%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 98%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 99%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 99%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 99%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 99%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 99%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... 99%
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mReading package lists... Done
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mE: Could not get lock /var/lib/apt/lists/lock. It is held by process 1456 (apt-get)
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mN: Be aware that removing the lock file is not a solution and may break your system.
[0m[1mmodule.ssp_provision_bastion_host.null_resource.setup_bastion_host (remote-exec):[0m [0mE: Unable to lock directory /var/lib/apt/lists/
[31m╷[0m[0m
[31m│[0m [0m[1m[31mError: [0m[0m[1mremote-exec provisioner error[0m
[31m│[0m [0m
[31m│[0m [0m[0m  with module.ssp_provision_bastion_host.null_resource.setup_bastion_host,
[31m│[0m [0m  on work_modules/ssp_provision_bastion_host/main.tf line 50, in resource "null_resource" "setup_bastion_host":
[31m│[0m [0m  50:   provisioner "remote-exec" [4m{[0m[0m
[31m│[0m [0m
[31m│[0m [0merror executing "/tmp/terraform_1260826365.sh": Process exited with status
[31m│[0m [0m100
[31m╵[0m[0m
